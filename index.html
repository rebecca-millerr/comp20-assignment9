<!DOCTYPE html>
<html>
    <head>
        <title>Assignment 9</title>
        <meta charset="utf-8"/>
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script>
            $.getJSON("setlist.json", function(data) {
                let setlist = [];
                // for each song
                $.each(data, function(i, song) { 
                    // for each part of song
                    setlist.push(song);

                    setlist[i].title = song.title;

                    $.each(song.artist, function(idx, artist) {
                        setlist[i].artist[idx] = artist;
                    });

                    $.each(song.genre, function(idx, genre) {
                        setlist[i].genre[idx] = genre;
                    });

                    setlist[i].year = song.year;
                });
            });

            

            // function dosomething() {
            //     // let select = document.getElementById("options");
            //     // let option = select.value;
            //     // document.getElementById("test").innerHTML = option;
            //     $.getJSON("data/setlist.json", function(data) {
            //     let setlist = [];
            //     // for each song
            //     $(data).each(function(idx, obj){ 
            //         $(obj).each(function(key, value){
            //             console.log(key + ": " + value);
            //         });
            //     });

            //     $.each(data, function(idx, obj) { 
            //         // for each part of song
            //         setlist.push(obj);
            //         // $.each(obj, function(key, value) {
            //         //     // need this?
            //         // });
            //     });
            // });



            //document.getElementById("test").innerHTML = setlist[0].title;
            function dosomething() {
                alert('hi');
                $.getJSON('./setlist.json', function(data){ 
                    alert('hi1');
                    $.each(data, function(idx, obj){ 
                        alert('hi2');
                        $.each(obj, function(key, value){
                            alert('hi3');
                            console.log(key + ": " + value);
                        });
                    });
                });
            }
        </script>
    </head>
    <body>
        <select id = "options" onchange = "dosomething()">
            <option value = "">Choose a genre:</option>
            <option value = "rap">Rap</option>
            <option value = "pop">Pop</option>
            <option value = "rock">Rock</option>
            <option value = "alternative">Alternative</option>
        </select>
        <p id="test"></p>
    </body>
</html>